window.__require=function t(e,n,o){function i(r,s){if(!n[r]){if(!e[r]){var l=r.split("/");if(l=l[l.length-1],!e[l]){var c="function"==typeof __require&&__require;if(!s&&c)return c(l,!0);if(a)return a(l,!0);throw new Error("Cannot find module '"+r+"'")}r=l}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){return i(e[r][1][t]||t)},u,u.exports,t,e,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Banner111014101:[function(t,e,n){"use strict";cc._RF.push(e,"1a837zDyN9NBqgDZ5NzIzU9","Banner111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),a([s],e)}(slot.SlotBanner));n.default=l,cc._RF.pop()},{}],BannerNode111014101:[function(t,e,n){"use strict";cc._RF.push(e,"08d8b70Ws5Eu6bU4ZfGTKCf","BannerNode111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../global/Utils111014101"),s=cc._decorator,l=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_banner=null,e.ui_coinLabPanel=null,e.ui_coinLab=null,e.ui_bannerBg=[],e.ui_aniEffect=null,e.ui_icon=null,e.ui_scatterSpeed=null,e}return i(e,t),e.prototype.onLoad=function(){this.onSpinBegin()},e.prototype.onSpinBegin=function(){this.ui_coinLabPanel.active=!1,this.ui_banner.active=!0,this._showBg(0),this.ui_icon.active=!0,this.ui_aniEffect.node.active=!1,this.showScatter(0)},e.prototype.showBanner=function(){this.ui_banner.active=!0},e.prototype.setSpinCoiLabeln=function(t){if(0!=t){this.ui_banner.active=!1,this.ui_icon.active=!1,this.ui_coinLabPanel.active=!0,this.showScatter(0),this.ui_coinLabPanel.getChildByName("info_tw").active=!0,this.ui_coinLabPanel.getChildByName("info_win").active=!1;var e=this.node.getChildByName("ui_aniCaiDai");e.active=!1,this.ui_coinLab.string=slot.SlotUtils.formatNumber(t);var n=t/slot.SpinManager.instance.betCost;n<5?(this._showBg(0),e.active=!0,r.default.setSpineAnimation(e.getComponent(sp.Skeleton),"ib_a",!1,slot.Handler.create(this,function(){e.active=!1})),this.ui_aniEffect.node.active=!0,r.default.setSpineAnimations(this.ui_aniEffect,["ib_b","ib_c"],!1)):n>=5&&n<20?(this._showBg(1),this.ui_aniEffect.node.active=!0,r.default.setSpineAnimations(this.ui_aniEffect,["ib_b2","ib_c2"],!1)):(this._showBg(2),e.active=!0,r.default.setSpineAnimation(e.getComponent(sp.Skeleton),"ib_a",!1,slot.Handler.create(this,function(){e.active=!1})),this.ui_aniEffect.node.active=!0,r.default.setSpineAnimations(this.ui_aniEffect,["ib_b3","ib_c3"],!1))}},e.prototype.setSpinCoin=function(t,e,n){var o=this;this.ui_banner.active=!1,this.ui_icon.active=!1,this.ui_coinLabPanel.active=!0,this.showScatter(0),this.ui_coinLabPanel.getChildByName("info_tw").active=0!=e,this.ui_coinLabPanel.getChildByName("info_win").active=0==e;var i=this.node.getChildByName("ui_aniCaiDai");i.active=!1;var a=t/slot.SpinManager.instance.betCost;a<5?(this._showBg(0),a<1?1==e&&slot.SoundMger.instance.playEffect("Winframe_01"):a>=1&&a<3&&1==e&&slot.SoundMger.instance.playEffect("Winframe_01_More"),0==e&&(i.active=!0,r.default.setSpineAnimation(i.getComponent(sp.Skeleton),"ib_a",!1,slot.Handler.create(this,function(){i.active=!1})),this.ui_aniEffect.node.active=!0,r.default.setSpineAnimations(this.ui_aniEffect,["ib_b","ib_c"],!1)),this.ui_coinLab.string=slot.SlotUtils.formatNumber(t),this.ui_coinLabPanel.scale=.01,cc.tween(this.ui_coinLabPanel).to(.2,{scale:1}).start(),n&&n.run()):a>=5&&a<20?(this._showBg(1),0==e?(this.ui_aniEffect.node.active=!0,r.default.setSpineAnimations(this.ui_aniEffect,["ib_b2","ib_c2"],!1),this.ui_coinLab.string=slot.SlotUtils.formatNumber(t),this.ui_coinLabPanel.scale=.01,cc.tween(this.ui_coinLabPanel).to(.2,{scale:1}).start(),n&&n.run()):(slot.SoundMger.instance.playEffect("Winframe_02"),this.addMoneyRise(this.ui_coinLab,0,t,1.5,function(){i.active=!0,r.default.setSpineAnimation(i.getComponent(sp.Skeleton),"ib_a",!1,slot.Handler.create(o,function(){i.active=!1})),o.ui_aniEffect.node.active=!0,r.default.setSpineAnimations(o.ui_aniEffect,["ib_b2","ib_c2"],!1),o.ui_coinLabPanel.scale=.01,cc.tween(o.ui_coinLabPanel).to(.2,{scale:1}).start(),n&&n.run()}))):(1==e&&slot.SoundMger.instance.playEffect("Winframe_03"),this._showBg(2),i.active=!0,r.default.setSpineAnimation(i.getComponent(sp.Skeleton),"ib_a",!1,slot.Handler.create(this,function(){i.active=!1})),this.ui_aniEffect.node.active=!0,r.default.setSpineAnimations(this.ui_aniEffect,["ib_b3","ib_c3"],!1),this.ui_coinLab.string=slot.SlotUtils.formatNumber(t),this.ui_coinLabPanel.scale=.01,cc.tween(this.ui_coinLabPanel).to(.2,{scale:1}).start(),n&&n.run())},e.prototype.showScatter=function(t){this.ui_scatterSpeed.children[0].active=1==t,this.ui_scatterSpeed.children[1].active=2==t,0!=t&&(this.ui_coinLabPanel.active=!1,this.ui_banner.active=!1,this._showBg(0),this.ui_icon.active=!0,this.ui_aniEffect.node.active=!1)},e.prototype.addMoneyRise=function(t,e,n,o,i){cc.tween({num:e}).to(o,{num:n},{progress:function(e,n,o,i){var a=e+(n-e)*i;t.string=slot.SlotUtils.formatNumber(a)}}).call(function(){i&&i()}).tag(100254527).start()},e.prototype._showBg=function(t){for(var e=0;e<this.ui_bannerBg.length;e++)this.ui_bannerBg[e].active=t==e},a([c(cc.Node)],e.prototype,"ui_banner",void 0),a([c(cc.Node)],e.prototype,"ui_coinLabPanel",void 0),a([c(cc.Label)],e.prototype,"ui_coinLab",void 0),a([c(cc.Node)],e.prototype,"ui_bannerBg",void 0),a([c(sp.Skeleton)],e.prototype,"ui_aniEffect",void 0),a([c(cc.Node)],e.prototype,"ui_icon",void 0),a([c(cc.Node)],e.prototype,"ui_scatterSpeed",void 0),a([l],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../global/Utils111014101":"Utils111014101"}],CommonNumAtlas111014101:[function(t,e,n){"use strict";cc._RF.push(e,"4b4eeau0QVJ0qVL2hHp+KpY","CommonNumAtlas111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=r.executeInEditMode,u=r.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._dataStr="",e._anchorY=1,e.AtlsElment=[],e._spaceX=10,e._showStyle=1,e._offScale=1,e._offPosY=0,e._offPosX=0,e._shrink=!1,e._maxWidth=0,e._syncRootWidth=!0,e._useOriginalSize=!1,e.pool=[],e.containerNode=null,e._sumChildrenWidth=0,e.numberUnitWidth=0,e.myColor=cc.Color.WHITE,e}return i(e,t),Object.defineProperty(e.prototype,"string",{get:function(){return this._dataStr},set:function(t){this._dataStr=t,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this._anchorY},set:function(t){this._anchorY=t,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spaceX",{get:function(){return this._spaceX},set:function(t){this._spaceX=t,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showStyle",{get:function(){return this._showStyle},set:function(t){this._showStyle=t,2==this._showStyle&&this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offScale",{get:function(){return this._offScale},set:function(t){this._offScale=t,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offPosX",{get:function(){return this._offPosX},set:function(t){this._offPosX=t,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offPosY",{get:function(){return this._offPosY},set:function(t){this._offPosY=t,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shrink",{get:function(){return this._shrink},set:function(t){this._shrink=t,t&&(this._syncRootWidth=!1),this.resetPicLabelWidth(),this.resetRootNodeWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth=t,this.resetPicLabelWidth(),this.resetRootNodeWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"syncRootWidth",{get:function(){return this._syncRootWidth},set:function(t){this._syncRootWidth=t,this.resetRootNodeWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useOriginalSize",{get:function(){return this._useOriginalSize},set:function(t){this._useOriginalSize=t,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sumChildrenWidth",{get:function(){return this._sumChildrenWidth},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.pool=[],this.string=this._dataStr},e.prototype.resetUnitWidth=function(){for(var t=0,e=this.AtlsElment;t<e.length;t++){var n=e[t];if(this.isNumberString(n.id)){var o=n.elmentSpriteFrame;if(!o)continue;var i=this._useOriginalSize?o.getOriginalSize().width:o.getRect().width;this.numberUnitWidth<i&&(this.numberUnitWidth=i)}}},e.prototype.isNumberString=function(t){return/^[0-9]+$/.test(t)},e.prototype.isPunctuationString=function(t){return/[`.,_`]/.test(t)},e.prototype.resetPicFromNum=function(){this.resetUnitWidth();var t=this._dataStr;if(!this.containerNode){var e=this.node.getChildByName("_Private_ContainerNode");e?this.containerNode=e:(this.containerNode=new cc.PrivateNode("_Private_ContainerNode"),this.node.addChild(this.containerNode),this.containerNode.anchorX=0)}for(var n=0;n<this.containerNode.childrenCount;n++)this.pool.push(this.containerNode.children[n]);this.containerNode.removeAllChildren(),this._sumChildrenWidth=0;for(var o=0,i=0;i<t.length;i++){var a=t[i],r=this.getPicElementConfig(a),s=r?r.elmentSpriteFrame:null,l=this.pool.pop();l||(l=new cc.Node).addComponent(cc.Sprite),l.anchorX=.5,this.isPunctuationString(a)?l.anchorY=this.anchorY:l.anchorY=.5,this.containerNode.addChild(l,100-i),l.getComponent(cc.Sprite).spriteFrame=s;var c=this.numberUnitWidth,u=this.spaceX;s?this.isNumberString(a)||(c=this._useOriginalSize?s.getOriginalSize().width:s.getRect().width):(c=0,u=0),0==i&&(u=0),l.x=u+o+.5*c,o+=u+c,l.color=this.myColor.clone()}this._sumChildrenWidth=o,this.containerNode.width=this._sumChildrenWidth,this.node.scale=this.offScale,2==this.showStyle?(this.node.x=this.offPosX,this.node.y=this.offPosY):(this.node.x+=this.offPosX,this.node.y+=this.offPosY),this.containerNode.x=0,.5===this.node.anchorX?this.containerNode.x=-this.containerNode.width/2:this.containerNode.x=-this.containerNode.width*this.offScale/2,this.resetPicLabelWidth(),this.resetRootNodeWidth()},e.prototype.getPicElementConfig=function(t){for(var e=0,n=this.AtlsElment;e<n.length;e++){var o=n[e];if(t==o.id)return o}},e.prototype.resetPicLabelWidth=function(){this.shrink?(this.containerNode.scale=this._sumChildrenWidth*this.offScale<=this.maxWidth?1:this.maxWidth/(this._sumChildrenWidth*this.offScale),this.containerNode.x=-this.containerNode.width*this.containerNode.scale/2):this.containerNode.scale=1},e.prototype.resetRootNodeWidth=function(){this._syncRootWidth?this.node.width=this._sumChildrenWidth*this.offScale:this.node.width=this._sumChildrenWidth*this.offScale<=this.maxWidth?this._sumChildrenWidth:this.maxWidth/this.offScale},e.prototype.onDestroy=function(){for(var t=0,e=this.pool;t<e.length;t++){var n=e[t];n&&n.destroy()}},a([l],e.prototype,"_dataStr",void 0),a([l({type:cc.String})],e.prototype,"string",null),a([l],e.prototype,"_anchorY",void 0),a([l({tooltip:"\u8282\u70b9 Y \u8f74\u951a\u70b9\u4f4d\u7f6e"})],e.prototype,"anchorY",null),a([l([slot.AtlsElmentConfig])],e.prototype,"AtlsElment",void 0),a([l],e.prototype,"_spaceX",void 0),a([l({tooltip:"\u6570\u5b57\u4e4b\u95f4\u7684\u95f4\u8ddd,\u9ed8\u8ba410"})],e.prototype,"spaceX",null),a([l],e.prototype,"_showStyle",void 0),a([l],e.prototype,"_offScale",void 0),a([l],e.prototype,"_offPosY",void 0),a([l],e.prototype,"_offPosX",void 0),a([l({tooltip:"\u4e2d\u5956\u7ebf\u91d1\u989d\u663e\u793a\u6837\u5f0f\uff0c\u9ed8\u8ba41"})],e.prototype,"showStyle",null),a([l({tooltip:"\u653e\u5927\u7f29\u5c0f\u7684\u500d\u6570,\u9ed8\u8ba41"})],e.prototype,"offScale",null),a([l({tooltip:"X\u4f4d\u7f6e\u589e\u52a0\u51cf\u5c11\u503c,\u9ed8\u8ba40"})],e.prototype,"offPosX",null),a([l({tooltip:"Y\u4f4d\u7f6e\u589e\u52a0\u51cf\u5c11\u503c,\u9ed8\u8ba40"})],e.prototype,"offPosY",null),a([l],e.prototype,"_shrink",void 0),a([l({type:cc.Boolean,tooltip:"\u662f\u5426\u4f7f\u7528\u81ea\u9002\u5e94"})],e.prototype,"shrink",null),a([l],e.prototype,"_maxWidth",void 0),a([l({type:cc.Float,tooltip:"\u81ea\u9002\u5e94\u7684\u8282\u70b9\u6700\u5927\u5bbd\u5ea6(shrink\u4e3atrue,\u5c06\u751f\u6548)"})],e.prototype,"maxWidth",null),a([l],e.prototype,"_syncRootWidth",void 0),a([l({type:cc.Boolean,tooltip:"\u662f\u5426\u5728\u8bbe\u7f6estring\u65f6\u540c\u6b65\u6839\u8282\u70b9\u5bbd\u5ea6(\u82e5\u8bbe\u7f6e\u4e86\u81ea\u9002\u5e94\uff0c\u5219\u8282\u70b9\u5bbd\u5ea6\u4e0d\u53d7\u79c1\u6709\u8282\u70b9\u5f71\u54cd)",visible:function(){return!this._shrink}})],e.prototype,"syncRootWidth",null),a([l],e.prototype,"_useOriginalSize",void 0),a([l({type:cc.Boolean,tooltip:"\u662f\u5426\u4f7f\u7528\u56fe\u7247\u526a\u88c1\u524d\u7684\u539f\u59cb\u5927\u5c0f"})],e.prototype,"useOriginalSize",null),a([s,c,u("111014101/CommonNumAtlas111014101")],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],FreeGameAgain111014101:[function(t,e,n){"use strict";cc._RF.push(e,"a932f5/k8xIi68aDGnlYGvN","FreeGameAgain111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../common/CommonNumAtlas111014101"),s=t("../global/Global11101401"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_times=null,e.ui_container=null,e._completeHandler=null,e}return i(e,t),e.prototype.onOpen=function(t){for(var e=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this._completeHandler=n[0][1],this.scheduleOnce(function(){game.UIManager.getInstance().close(e)},s.default.getInstance().freeGameTriggerAgainTime*n[0][0]+1),this.ui_times.string="+"+n[0][0].toString(),slot.SoundMger.instance.playEffect("FreeGameAgain"),"pt"==game.LanguageManager.getInstance().getCurLang()&&(this.node.getChildByName("bns_fs").scale=.8)},e.prototype.onClose=function(){slot.SoundMger.instance.stopEffect("FreeGameAgain"),this._completeHandler&&this._completeHandler.run(),this._completeHandler=null},a([u(r.default)],e.prototype,"ui_times",void 0),a([u(cc.Node)],e.prototype,"ui_container",void 0),a([c],e)}(game.UIView);n.default=p,cc._RF.pop()},{"../common/CommonNumAtlas111014101":"CommonNumAtlas111014101","../global/Global11101401":"Global11101401"}],FreeGameResult111014101:[function(t,e,n){"use strict";cc._RF.push(e,"c8d08OvgGhGEayX+IhAIlQ1","FreeGameResult111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../common/CommonNumAtlas111014101"),s=t("../global/Utils111014101"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_winLab=null,e.ui_bgAni=null,e.ui_mask=null,e.ui_btnPanel=null,e.ui_closeBtn=null,e.ui_freeTimes=null,e.ui_guang=null,e.ui_title=null,e._completeHandler=null,e._winCoin=0,e.isClickClose=!1,e.isOver=!1,e}return i(e,t),e.prototype.onOpen=function(t){for(var e=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this._winCoin=n[0][1],this._completeHandler=n[0][2],this.ui_winLab.string=slot.SlotUtils.formatNumber(0),this.ui_winLab.node.scale=.2,this.isClickClose=!1,this.ui_mask.getComponent(cc.Button).interactable=!1,this.ui_guang.active=!1,this.ui_btnPanel.active=!1,slot.SoundMger.instance.stopMusic("FreeGame_Back_Music"),slot.SoundMger.instance.playEffect("FreeGame_Settlement"),slot.SoundMger.instance.playEffect(game.ComUtils.getIntRandom(0,100)>50?"FreeGame_Settlement_Voice_01":"FreeGame_Settlement_Voice_02");var i=.4,a=this.ui_freeTimes.getChildByName("ui_timesLab"),r=1;switch(slot.GData.curLanguage){case"en":a.y=10;break;case"pt":r=.75,a.y=10}this.ui_title.scale=.2,this.ui_title.y=309,cc.tween(this.ui_title).to(i,{scale:r,y:450}).call(function(){cc.tween(e.ui_freeTimes).to(.1,{opacity:255}).start()}).to(.1,{scale:r-.1}).to(.1,{scale:r}).to(.1,{scale:r-.1}).start(),this.ui_bgAni.opacity=1,s.default.setSpineAnimation(this.ui_bgAni.getComponent(sp.Skeleton),"tw",!1),cc.tween(this.ui_bgAni).to(i,{opacity:255}).start(),a.getComponent(cc.Label).string=n[0][0],this.ui_freeTimes.opacity=0,this.ui_winLab.node.scale=.2,this.ui_winLab.node.y=220,cc.tween(this.ui_winLab.node).to(i,{scale:.7,y:293}).start(),this.addMoneyRise(this.ui_winLab,0,this._winCoin,4.5,function(){e.addComplete()}),this.scheduleOnce(function(){e.ui_mask.getComponent(cc.Button).interactable=!0},i)},e.prototype.addComplete=function(){var t=this;this.ui_mask.getComponent(cc.Button).interactable=!1,this.isClickClose||(this.isClickClose=!0,this.ui_guang.active=!0,s.default.setSpineAnimation(this.ui_guang.getComponent(sp.Skeleton),"tw_over",!1),cc.Tween.stopAllByTag(100231452),this.ui_winLab.string=slot.SlotUtils.formatNumber(this._winCoin),this.ui_btnPanel.active=!0,this.ui_btnPanel.scale=0,cc.tween(this.ui_btnPanel).to(.2,{scale:1}).start(),this._addEvent(),this.scheduleOnce(function(){t.onClickLingQu()},5),slot.SoundMger.instance.stopEffect("FreeGame_Settlement"),slot.SoundMger.instance.playEffect("FreeGame_Settlement_End"))},e.prototype.addMoneyRise=function(t,e,n,o,i){var a=this;this.isClickClose||cc.tween({num:e}).to(o,{num:n},{progress:function(e,n,o,i){var r=e+(n-e)*i;a.isClickClose||(t.string=slot.SlotUtils.formatNumber(r))}}).call(function(){a.isClickClose||i&&i()}).tag(100231452).start()},e.prototype.onClickMask=function(){this.addComplete()},e.prototype.onClickLingQu=function(){var t=this;this.isOver||(this.isOver=!0,this.ui_closeBtn.getComponent(cc.Button).interactable=!1,this._removeEvent(),this.scheduleOnce(function(){t.showOverLoading()},.2))},e.prototype.showOverLoading=function(){var t=this;cc.tween(this.node).to(.3,{opacity:10}).call(function(){game.UIManager.getInstance().close(t)}).start()},e.prototype.onClose=function(){this._completeHandler&&this._completeHandler.run(),this._completeHandler=null,slot.SoundMger.instance.playMusic("Game_Back_Music"),slot.SoundMger.instance.stopEffect("FreeGame_Settlement_End"),slot.SoundMger.instance.stopEffect("FreeGame_Settlement_Voice_01"),slot.SoundMger.instance.stopEffect("FreeGame_Settlement_Voice_02")},e.prototype._removeEvent=function(){cc.sys.isMobile||(this.ui_closeBtn.off(cc.Node.EventType.MOUSE_ENTER,this._topNode_MOUSE_ENTER,this),this.ui_closeBtn.off(cc.Node.EventType.MOUSE_LEAVE,this._topNode_MOUSE_LEAVE,this)),this.ui_closeBtn.off("click",this.topNode_MOUSE_CLICK,this)},e.prototype._addEvent=function(){cc.sys.isMobile||(this.ui_closeBtn.on(cc.Node.EventType.MOUSE_ENTER,this._topNode_MOUSE_ENTER,this),this.ui_closeBtn.on(cc.Node.EventType.MOUSE_LEAVE,this._topNode_MOUSE_LEAVE,this)),this.ui_closeBtn.on("click",this.topNode_MOUSE_CLICK,this)},e.prototype.topNode_MOUSE_CLICK=function(){this.onClickLingQu(),this.ui_closeBtn.getChildByName("ui_light").active=!1,slot.SoundMger.instance.playEffect("FreeGame_Collect")},e.prototype._topNode_MOUSE_ENTER=function(){this.ui_closeBtn.getChildByName("ui_light").active=!0},e.prototype._topNode_MOUSE_LEAVE=function(){this.ui_closeBtn.getChildByName("ui_light").active=!1},a([u(r.default)],e.prototype,"ui_winLab",void 0),a([u(cc.Node)],e.prototype,"ui_bgAni",void 0),a([u(cc.Node)],e.prototype,"ui_mask",void 0),a([u(cc.Node)],e.prototype,"ui_btnPanel",void 0),a([u(cc.Node)],e.prototype,"ui_closeBtn",void 0),a([u(cc.Node)],e.prototype,"ui_freeTimes",void 0),a([u(cc.Node)],e.prototype,"ui_guang",void 0),a([u(cc.Node)],e.prototype,"ui_title",void 0),a([c],e)}(game.UIView);n.default=p,cc._RF.pop()},{"../common/CommonNumAtlas111014101":"CommonNumAtlas111014101","../global/Utils111014101":"Utils111014101"}],FreeGameStart111014101:[function(t,e,n){"use strict";cc._RF.push(e,"b1e41TvtQZHRYI7t5DmVq1q","FreeGameStart111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../common/CommonNumAtlas111014101"),s=t("../global/Utils111014101"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_renAni=null,e.ui_timeLab=null,e.ui_content=null,e.bns_desc=null,e.ui_btnPanel=null,e.ui_loadingLab=null,e.ui_loading=null,e.ui_btn=null,e.ui_container=null,e._completeHandler=null,e.m_isEnd=!1,e}return i(e,t),e.prototype.onOpen=function(e){for(var n=this,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];this.m_isEnd=!1,t.prototype.onOpen&&t.prototype.onOpen.call(this,e,o),this._completeHandler=o[0][1],this.ui_timeLab.string=o[0][0].toString();var a=.4;slot.SoundMger.instance.playMusic("FreeGame_Back_Music"),this.ui_renAni.opacity=1,this.ui_content.scale=.2,this.bns_desc.scale=2.5,this.ui_btnPanel.active=!1,"pt"==game.LanguageManager.getInstance().getCurLang()&&(this.ui_content.getChildByName("bns_fs").scale=.8),s.default.setSpineAnimation(this.ui_renAni.getComponent(sp.Skeleton),"bl",!1),cc.tween(this.ui_renAni).to(a,{opacity:255}).start(),cc.tween(this.ui_content).to(a,{scale:1}).to(.1,{scale:.9}).start(),cc.tween(this.bns_desc).to(a,{scale:.88}).start(),this.scheduleOnce(function(){n.addMoneyRise(n.ui_loadingLab,0,100,.8,slot.Handler.create(n,function(){n.ui_loading.active=!1,n.ui_btnPanel.active=!0,n.ui_btnPanel.scale=.2,cc.tween(n.ui_btnPanel).to(.2,{scale:1}).start(),n._addEvent(),n.scheduleOnce(function(){n._closeNode()},5)}))},a);var r=cc.instantiate(slot.ScoreBase.instance.winScoreBtn);this.ui_container.addChild(r),this.ui_container.addChild(cc.instantiate(slot.ScoreBase.instance.allScore.node));var l=cc.instantiate(slot.ScoreBase.instance.balanceBtn);this.ui_container.addChild(l),this.ui_container.addChild(cc.instantiate(slot.ScoreBase.instance.betScore.node));var c=cc.instantiate(slot.ScoreBase.instance.betScoreBtn);this.ui_container.addChild(c),this.ui_container.addChild(cc.instantiate(slot.ScoreBase.instance.winScore.node))},e.prototype._removeEvent=function(){cc.sys.isMobile?(this.ui_btn.off("click",this.topNode_MOUSE_CLICK,this),this.ui_btn.removeComponent(cc.Button)):(this.ui_btn.off(cc.Node.EventType.MOUSE_ENTER,this._topNode_MOUSE_ENTER,this),this.ui_btn.off(cc.Node.EventType.MOUSE_LEAVE,this._topNode_MOUSE_LEAVE,this),this.ui_btn.off("click",this.topNode_MOUSE_CLICK,this))},e.prototype._addEvent=function(){cc.sys.isMobile?(this.ui_btn.addComponent(cc.Button),this.ui_btn.on("click",this.topNode_MOUSE_CLICK,this)):(this.ui_btn.on(cc.Node.EventType.MOUSE_ENTER,this._topNode_MOUSE_ENTER,this),this.ui_btn.on(cc.Node.EventType.MOUSE_LEAVE,this._topNode_MOUSE_LEAVE,this),this.ui_btn.on("click",this.topNode_MOUSE_CLICK,this))},e.prototype._closeNode=function(){var t=this;this.m_isEnd=!0,this._completeHandler&&this._completeHandler.run(),this._completeHandler=null,cc.tween(this.node).to(.3,{opacity:10}).call(function(){game.UIManager.getInstance().close(t)}).start()},e.prototype.onClose=function(){this._removeEvent(),slot.SoundMger.instance.stopEffect("Free_Wait_Sound")},e.prototype._onClickClose=function(){var t=this;this.m_isEnd||(this.m_isEnd=!0,slot.SoundMger.instance.playEffect("FreeGame_Start"),this.scheduleOnce(function(){t.ui_btn.getChildByName("ui_light").active=!0,t._closeNode()},.5))},e.prototype.topNode_MOUSE_CLICK=function(){this._onClickClose()},e.prototype._topNode_MOUSE_ENTER=function(){this.ui_btn.getChildByName("ui_light").active=!0},e.prototype._topNode_MOUSE_LEAVE=function(){this.ui_btn.getChildByName("ui_light").active=!1},e.prototype.addMoneyRise=function(t,e,n,o,i){cc.tween({num:e}).to(o,{num:n},{progress:function(e,n,o,i){var a=e+(n-e)*i;t.string=Math.ceil(a).toString()}}).call(function(){i&&i.run()}).tag(100231452).start()},a([u(cc.Node)],e.prototype,"ui_renAni",void 0),a([u(r.default)],e.prototype,"ui_timeLab",void 0),a([u(cc.Node)],e.prototype,"ui_content",void 0),a([u(cc.Node)],e.prototype,"bns_desc",void 0),a([u(cc.Node)],e.prototype,"ui_btnPanel",void 0),a([u(r.default)],e.prototype,"ui_loadingLab",void 0),a([u(cc.Node)],e.prototype,"ui_loading",void 0),a([u(cc.Node)],e.prototype,"ui_btn",void 0),a([u(cc.Node)],e.prototype,"ui_container",void 0),a([c],e)}(game.UIView);n.default=p,cc._RF.pop()},{"../common/CommonNumAtlas111014101":"CommonNumAtlas111014101","../global/Utils111014101":"Utils111014101"}],GameBg111014101:[function(t,e,n){"use strict";cc._RF.push(e,"597fcE2jUVAnZlW9rkQGMfA","GameBg111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onDestroy=function(){},a([s],e)}(slot.BaseView));n.default=l,cc._RF.pop()},{}],GameEventName111014101:[function(t,e,n){"use strict";var o,i;cc._RF.push(e,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111014101"),Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=n.EventName=void 0,function(t){t.GAME_JTCONVERT_PLAYLINES_BEFOR="GAME_JTCONVERT_PLAYLINES_BEFOR",t.GAME_SHOW_JIN_KUANG="GAME_SHOW_JIN_KUANG"}(n.EventName||(n.EventName={})),function(t){t[t.FREE_GAME_START=210101]="FREE_GAME_START",t[t.FREE_GAME_RESULT=210102]="FREE_GAME_RESULT",t[t.FREE_GAME_AGAIN=210103]="FREE_GAME_AGAIN"}(i=n.UIID||(n.UIID={})),n.UICF=((o={})[i.FREE_GAME_START]={bundleName:"game_111014101",path:"prefabs/freeGame/freeGameStart",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!1,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},o[i.FREE_GAME_AGAIN]={bundleName:"game_111014101",path:"prefabs/freeGame/freeGameAgain",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!1,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},o[i.FREE_GAME_RESULT]={bundleName:"game_111014101",path:"prefabs/freeGame/freeGameResult",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!1,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},o),cc._RF.pop()},{}],GameGUI111014101:[function(t,e,n){"use strict";cc._RF.push(e,"28aacBIpNtEOZBhb/4t5s+8","GameGUI111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.EffectsLayer111014101=void 0;var r=t("../common/CommonNumAtlas111014101"),s=t("../common/MController111014101"),l=t("../common/SubQueueManager111014101"),c=t("../global/GameEventName111014101"),u=t("../global/Global11101401"),p=t("../global/Utils111014101"),_=t("../ui/BannerNode111014101"),h=t("../ui/Role111014101"),f=t("../ui/YanhuaNode111014101"),d=t("./GameLayer111014101"),y=cc._decorator,m=y.ccclass,g=y.property,v=function(){function t(){this.ui_maskPanel=null,this.ui_elemBgAniPanel=null,this.ui_linePanel=null,this.ui_elemPanel=null,this.ui_coinPanel=null}return a([g({type:cc.Node,displayName:"\u8499\u5c42\u5bb9\u5668"})],t.prototype,"ui_maskPanel",void 0),a([g({type:cc.Node,displayName:"\u80cc\u666f\u7279\u6548\u5bb9\u5668"})],t.prototype,"ui_elemBgAniPanel",void 0),a([g({type:cc.Node,displayName:"\u4e2d\u5956\u7ebf\u5bb9\u5668"})],t.prototype,"ui_linePanel",void 0),a([g({type:cc.Node,displayName:"\u5143\u7d20\u5bb9\u5668"})],t.prototype,"ui_elemPanel",void 0),a([g({type:cc.Node,displayName:"\u4e2d\u5956\u7ebf\u91d1\u989d\u5bb9\u5668"})],t.prototype,"ui_coinPanel",void 0),a([m("EffectsLayer111014101")],t)}();n.EffectsLayer111014101=v;var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_banner=null,e.m_role=null,e.m_yanhua=null,e.ui_template=null,e.ui_effectsLayer=new v,e.ui_freeGameTimesPanel=null,e.isScatterTask=!1,e.m_frameLightArr=[],e.m_restoreRespType=-1,e.m_firstFreeGameCoin=0,e._changeScattOrWildCache={},e._isFreeGameTriggerAgain=!1,e.isShowBackGround=!1,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this._restoreResp,this),this.ui_template.active=!1,u.default.getInstance().ui_template=this.ui_template,this.ui_effectsLayer.ui_coinPanel.active=!1,this.node.getComponent(s.default).stateIndex=0},e.prototype.runFlowsAfterInit=function(){t.prototype.runFlowsAfterInit.call(this),slot.FreeGameManager.instance.hasFreeGame&&this.m_firstFreeGameCoin>0&&(game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.m_firstFreeGameCoin),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SET_WINSCORE_RETAIN,!0))},e.prototype._restoreResp=function(t,e){var n=e.state.normalData;if(n)if(1==e.state.state){this.m_restoreRespType=0;var o=Number(n.triggerFreeSpinCoin);o>0&&(this.m_firstFreeGameCoin=o),(i=Number(n.sumSpinCoin))>0&&(this.m_restoreRespType=2,this.m_firstFreeGameCoin=i+o)}else{var i;this.m_restoreRespType=1,(i=Number(n.sumSpinCoin))>0&&(this.m_restoreRespType=0),this.m_firstFreeGameCoin=i+Number(n.triggerFreeSpinCoin)}},e.prototype._onRollingResp=function(){slot.SpinManager.instance.rollingResult.spinResult.grid,slot.SlotMachineView.instance.scroller.isManualStopEnabled=!0,slot.SpinManager.instance.spinTouchEnable=!0},e.prototype._onSpinStart=function(){},e.prototype._onSpinBegin=function(){u.default.getInstance().isFirstToApp=!1,this._removeScatterBg(),u.default.getInstance().IEliminateResultIndex=0,this.m_banner.onSpinBegin(),this.m_role.onSpinBegin(),this.isScatterTask=!0,this.unschedule(this._showFrameLightAni),this.m_frameLightArr=[],u.default.getInstance().isFreeGame?slot.SoundMger.instance.playEffect("FreeGame_Spin"):slot.SoundMger.instance.playEffect("Reel_Spin0")},e.prototype._onSpinStop=function(t,e,n){if(0==t&&(slot.SoundMger.instance.stopEffect("Reel_Spin0"),slot.SoundMger.instance.stopEffect("FreeGame_Spin")),this.isScatterTask){for(var o=0,i=0;i<t+1;i++)for(var a=slot.SlotMachineView.instance.scroller.items[i],r=0;r<a.items.length;r++){var s=a.items[r];if(s&&s.active&&s.isScatter()&&-1==p.default.excludeCardPos.indexOf(s.index)){o++;break}}o>=3&&(this.isScatterTask=!1,this.m_banner.showScatter(2))}if(this.isScatterTask&&4==t&&(this.m_banner.showScatter(0),this.m_banner.showBanner()),n)4==t&&(p.default.getScatterArr().length>0&&slot.SoundMger.instance.playEffect("Sctter1"),p.default.getJinFrameArr().length>0&&slot.SoundMger.instance.playEffect("Multiple_Appear"));else for(var l=!1,c=!1,u=slot.SlotMachineView._instance.scroller.items[t]._items,_=0;_<u.length;_++){var h=u[_];h.active&&h.isScatter()&&(l=!0),l&&(l=!1,slot.SoundMger.instance.playEffect("Sctter1")),h.active&&h.data>12&&h.ui_frame_top.active&&(c=!0),c&&(c=!1,slot.SoundMger.instance.playEffect("Multiple_Appear"))}},e.prototype._onSpinComplete=function(){},e.prototype.playRewardsAnimations=function(t,e,n){var o=this;console.log("playRewardsAnimations=>",t,e);var i=slot.Handler.create(this,function(){slot.FreeGameManager.instance.isTreateNewFree&&game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SET_WINSCORE_RETAIN,!0);var i=slot.Handler.create(o,function(){o.m_banner.setSpinCoin(e,1,n)});o.scheduleOnce(function(){o.showWinAniView(t,e,i)},.5)});slot.SpinManager.instance.rollingResult.resultRate>1?this.m_role.collect(t,i):i.run()},e.prototype._onEventPlayLines=function(t,e){this._platLightCardFrame(),u.default.getInstance().isFirstToApp?e.run():(slot.SlotMachineView.instance.scroller.blackBackGround.alpha=0,this.playCollectWild(e))},e.prototype._platLightCardFrame=function(){if(!slot.FreeGameManager.instance.hasFreeGame&&!slot.SpinManager.instance.isInAuto){var t=p.default.getJinFrameArr();if(0!=t.length){for(var e=[],n=0;n<6;n++)e[n]=new Array;for(n=0;n<t.length;n++){var o=t[n];e[o.owner._index].push(o)}this.m_frameLightArr=e,this._showFrameLightAni(),this.schedule(this._showFrameLightAni,3)}}},e.prototype._showFrameLightAni=function(){var t=this;if(0!=this.m_frameLightArr.length)for(var e=this.m_frameLightArr,n=0,o=0;o<e.length;o++){var i=e[o];i.length>0&&n++,function(e,n){0!=n.length&&t.scheduleOnce(function(){for(var t=0;t<n.length;t++)n[t].showFrameLightAni()},.5*e)}(n,i)}},e.prototype.onWatchRunning=function(t){slot.SlotMachineView.instance.scroller.isManualStopEnabled=!1,u.default.getInstance().scatterBackGround.active=!0,u.default.getInstance().scatterBackGround.x=t.x,u.default.getInstance().scatterBackAniNode.active=!0,u.default.getInstance().scatterBackAniNode.x=t.x,slot.SoundMger.instance.stopEffect("Reel_Quick_0"),slot.SoundMger.instance.playEffect("Reel_Quick_0")},e.prototype.onScatterComplte=function(t){if(4==t.index){u.default.getInstance().scatterBackAniNode.active=!1,this.scheduleOnce(function(){p.default.playScattaIdleAni()}),slot.SoundMger.instance.stopEffect("Reel_Quick_Music"),slot.SoundMger.instance.stopEffect("Reel_Quick_0");var e=slot.SpinManager.instance.rollingResult.spinResult;0==Number(e.spinCoin)&&slot.SoundMger.instance.playEffect("Reel_Reduce")}},e.prototype._onEventWatchRunning=function(){this.isScatterTask=!0,this.m_banner.showScatter(1),slot.SoundMger.instance.playEffect("Reel_Quick_Music",!0)},e.prototype.elePlayAni=function(t,e,n,o){var i=this,a=slot.SpinManager.instance.customUpdateData.game_10017.data.resultList[o.index];console.log("elePlayAni=>",t,o,a),slot.SlotMachineView.instance.scroller.isManualStopEnabled=!1;var r=slot.Handler.create(this,function(){u.default.getInstance().IEliminateResultIndex=o.index+1,game.ComUtils.getIntRandom(0,100)>70?(i.shakeCard(!0),i.scheduleOnce(function(){i.shakeCard(!1),e.run()},1.5)):e.run()});slot.EliminateEffectUtils.isLeftRightFallDown=!1,this.scheduleOnce(function(){l.default.getInstance().reset(),l.default.getInstance().pushToQueue(slot.Handler.create(i,i.playCollectWild)),l.default.getInstance().pushToQueue(slot.Handler.create(i,i.playPrizeAni,[t,o])),l.default.getInstance().pushToQueue(slot.Handler.create(i,i.playScatterTaskAni,[r])),l.default.getInstance().execute()},.5)},e.prototype.playCollectWild=function(t){this.m_role.addMultiple(t)},e.prototype.playPrizeAni=function(t,e,n){var o=this;if(0!=t.length){var i=slot.SpinManager.instance.customUpdateData.game_10017.data.resultList[e.index],a=[],r=i.changeSpecialElemGrid||[];console.log("changeSpecialElemGrid=>",r),r.length>0&&(a=p.default.getChangeSpecialElem(r),console.log(a));for(var s=e.lineResult,l=0;l<s.length;l++)this.slotMachine.scroller.lineParser.showLine(s[l].lineId,!0);var c=t.concat(a);for(this.showRollMask(!0),this._updateChangedChildsLayer(c),this._playElemBgAniPanel(!0,c),l=0;l<c.length;l++)c[l].playPrizeAni();var u=e.curSpinCoin/slot.SpinManager.instance.betCost;u>=1&&u<2?slot.SoundMger.instance.playEffect("Win_Voice01"):u>=2&&u<3?slot.SoundMger.instance.playEffect("Win_Voice02"):u>=3&&u<5?slot.SoundMger.instance.playEffect("Win_Voice0"+game.ComUtils.getIntRandom(3,4)):u>=5&&u<10?slot.SoundMger.instance.playEffect("Win_Voice0"+game.ComUtils.getIntRandom(5,6)):u>=10&&slot.SoundMger.instance.playEffect("Win_Voice07"),u<1?slot.SoundMger.instance.playEffect("Win_01"):u>=1&&u<5?slot.SoundMger.instance.playEffect("Win_02"):slot.SoundMger.instance.playEffect("Win_03");var _=slot.Handler.create(this,function(){o.slotMachine.scroller.lineParser.clear(),u<1?slot.SoundMger.instance.playEffect("Remove_01"):u>=1&&u<5?slot.SoundMger.instance.playEffect("Remove_02"):slot.SoundMger.instance.playEffect("Remove_03");for(var e=0;e<t.length;e++)t[e].eliminate();for(slot.SoundMger.instance.playEffect("Change_Wild"),e=0;e<a.length;e++)a[e].cheangeWild();o._playElemBgAniPanel(!1),o.scheduleOnce(function(){o.showRollMask(!1),o._resetLayerSort(),n.run()},.2)});this._playPrizeCoinAni(!0,e,_)}else n.run()},e.prototype.playScatterTaskAni=function(t){t.run()},e.prototype._updateChangedChildsLayer=function(t){if(t)for(var e=void 0,n=void 0,o=0;o<t.length;o++)e=t[o],this._changeScattOrWildCache[e.uuid]||(this._changeScattOrWildCache[e.uuid]={item:e,pos:e.position.clone(),parent:e.parent,zindex:e.zIndex},n=slot.UIUtil.convetOtherNodeSpaceAR(e,this.ui_effectsLayer.ui_elemPanel),e.parent=this.ui_effectsLayer.ui_elemPanel,e.setPosition(n))},e.prototype._resetLayerSort=function(){var t;for(var e in this._changeScattOrWildCache)(t=this._changeScattOrWildCache[e]).item.parent=t.parent,t.item.zIndex=t.zIndex,t.item.setPosition(t.pos);this._changeScattOrWildCache={}},e.prototype.setFreeGameTimes=function(t,e){void 0===e&&(e=!1),u.default.getInstance().freeGameTimes=t,this.ui_freeGameTimesPanel.getChildByName("fs_lfs").active=0!=t;var n=this.ui_freeGameTimesPanel.getChildByName("ui_times");n.active=0!=t,n.getComponent(r.default).string=t.toString(),this.ui_freeGameTimesPanel.getChildByName("fs_rfs").active=0==t,e&&(cc.Tween.stopAllByTarget(n),n.scale=1,cc.tween(n).to(.2,{scale:.7}).start())},e.prototype._setFreeGameStatus=function(t){this.node.getComponent(s.default).stateIndex=t?1:0,this.m_role.setFreeGameStatus(t),slot.ScoreBase.instance&&(slot.ScoreBase.instance.node.y=t?-638:-402),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_MENU_SHOW_OR_HIDE,!t),slot.GameControlBase.instance&&(slot.GameControlBase.instance.node.opacity=t?0:255),this.m_yanhua.init(),t?(this._playYanhua(),this.schedule(this._playYanhua,3)):this.unschedule(this._playYanhua)},e.prototype._playYanhua=function(){this.m_yanhua.play(game.ComUtils.getIntRandom(0,2))},e.prototype.onInitFreeGame=function(t,e){console.log("oniniffreegame",t),this._setFreeGameStatus(!0),u.default.getInstance().isFreeGame=!0,e&&e.runWith(!0)},e.prototype.onFreeGameTriggered=function(t,e){var n=this;console.log("onFreeGameTriggered",t),this.m_banner.showScatter(2),p.default.onScatterPrizeAni(),slot.SoundMger.instance.stopMusic("Game_Back_Music"),slot.SoundMger.instance.playEffect("Scatter_Trigger"),slot.SoundMger.instance.playEffect("Scatter_Trigger_Voice");var o=slot.Handler.create(this,function(){n._setFreeGameStatus(!0),n.scheduleOnce(function(){u.default.getInstance().isFreeGame=!0,e.run()},.5)});this.scheduleOnce(function(){game.UIManager.getInstance().open(c.UIID.FREE_GAME_START,[t.times,o])},2)},e.prototype.onFreeGameTriggerAgain=function(t,e){var n=this;console.log("onFreeGameTriggerAgain",t);var o=this,i=t.times,a=u.default.getInstance().freeGameTimes;this._isFreeGameTriggerAgain=!0,this.m_banner.showScatter(2),p.default.onScatterPrizeAni();var r=slot.Handler.create(this,function(){n._isFreeGameTriggerAgain=!1,n.ui_freeGameTimesPanel.getChildByName("bg").active=!1,e.run()}),s=this.ui_freeGameTimesPanel.getChildByName("fs").getComponent(sp.Skeleton);s.node.active=!1,this.scheduleOnce(function(){n.ui_freeGameTimesPanel.getChildByName("bg").active=!0;for(var t=0;t<i;t++)(function(t){o.scheduleOnce(function(){a++,slot.SoundMger.instance.playEffect("FreeGameAgain_AddNumber"),s.node.active=!0,o.setFreeGameTimes(a,!0),p.default.setSpineAnimation(s,"fa_b",!1)},t*u.default.getInstance().freeGameTriggerAgainTime)})(t);game.UIManager.getInstance().open(c.UIID.FREE_GAME_AGAIN,[i,r])},.8)},e.prototype.onFreeGameTimesUpdated=function(t,e){console.log("onFreeGameTimesUpdated",t,e),!this._isFreeGameTriggerAgain&&this.setFreeGameTimes(t)},e.prototype.onFreeGameOver=function(t,e){var n=this;console.log("onFreeGameOver",t),this.scheduleOnce(function(){var o=slot.Handler.create(n,function(){n.m_banner.setSpinCoiLabeln(t.sumCoinAndTrigger),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,t.sumCoinAndTrigger),n._setFreeGameStatus(!1),n.scheduleOnce(function(){slot.SoundMger.instance.playMusic("Game_Back_Music"),u.default.getInstance().isFreeGame=!1,e.run()},.5)});game.UIManager.getInstance().open(c.UIID.FREE_GAME_RESULT,[t.sumTimes,t.sumCoinAndTrigger,o])},1)},e.prototype.addEventListener=function(){t.prototype.addEventListener.call(this),game.EventManager.getInstance().addEventListener(c.EventName.GAME_JTCONVERT_PLAYLINES_BEFOR,this._onEventPlayLines,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_SCROLLER_ONSPEED_RUNNING_START,this._onEventWatchRunning,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_NEW_ELEMDROP_DROPEND,this.onEventScatterWait,this)},e.prototype.removeEventListener=function(){t.prototype.removeEventListener.call(this),game.EventManager.getInstance().removeEventListener(c.EventName.GAME_JTCONVERT_PLAYLINES_BEFOR,this._onEventPlayLines,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this._restoreResp,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_SCROLLER_ONSPEED_RUNNING_START,this._onEventWatchRunning,this)},e.prototype.onEventScatterWait=function(){slot.SoundMger.instance.playEffect("Remove_Fall")},e.prototype._removeScatterBg=function(){},e.prototype._playPrizeCoinAni=function(t,e,n){var o=this;this.ui_effectsLayer.ui_coinPanel.active=t,t&&(this.ui_effectsLayer.ui_coinPanel.getChildByName("coin").getComponent(r.default).string=slot.SlotUtils.formatNumber(e.curSpinCoin),this.ui_effectsLayer.ui_coinPanel.scale=0,this.ui_effectsLayer.ui_coinPanel.y=0,this.ui_effectsLayer.ui_coinPanel.opacity=255,cc.tween(this.ui_effectsLayer.ui_coinPanel).to(.2,{scale:1.1}).to(.1,{scale:1}).delay(.5).to(.2,{y:40,scale:1.3}).call(function(){n&&n.run(),slot.SoundMger.instance.playEffect("UICoin_0")}).to(.2,{y:-309,opacity:80}).call(function(){o.m_banner.setSpinCoin(e.totalSpinCoin,0)}).delay(.1).call(function(){o.ui_effectsLayer.ui_coinPanel.active=!1}).start())},e.prototype._playElemBgAniPanel=function(t,e){if(t)for(var n=0;n<e.length;n++){var o=e[n],i=cc.instantiate(this.ui_template.getChildByName("sym_win"));i.active=!0,this.ui_effectsLayer.ui_elemBgAniPanel.addChild(i),i.setPosition(slot.UIUtil.convetOtherNodeSpaceAR(o,this.ui_effectsLayer.ui_elemBgAniPanel)),p.default.setSpineAnimation(i.getComponent(sp.Skeleton),"sym_win_a",!1)}else{var a=function(t){var e=r.ui_effectsLayer.ui_elemBgAniPanel.children[t];p.default.setSpineAnimation(e.getComponent(sp.Skeleton),"sym_win_b",!1,slot.Handler.create(r,function(){e.destroy()}))},r=this;for(n=0;n<this.ui_effectsLayer.ui_elemBgAniPanel.children.length;n++)a(n)}},e.prototype.addRise=function(t,e,n,o,i){cc.tween({num:e}).to(o,{num:n},{progress:function(e,n,o,i){var a=e+(n-e)*i;t.alpha=a}}).call(function(){i&&i()}).tag(100231452).start()},e.prototype.showRollMask=function(t){this.slotMachine.scroller.blackBackGround.active=t;var e=this.slotMachine.scroller.blackBackGround;e&&(t?this.isShowBackGround||(this.isShowBackGround=!0,e.active=!0,cc.Tween.stopAllByTag(100231452),this.addRise(e,0,180,.2)):(this.isShowBackGround=!1,cc.Tween.stopAllByTag(100231452),e.active&&this.addRise(e,180,0,.2,function(){e.active=!1})))},e.prototype.onCloseLoadingViemListen=function(t){t?slot.SoundMger.instance.playMusic("FreeGame_Back_Music"):(slot.SoundMger.instance.playEffect("Game_Voice01"),slot.SoundMger.instance.playMusic("Game_Back_Music_Start",!1,function(){slot.SoundMger.instance.playMusic("Game_Back_Music")}))},e.prototype.shakeCard=function(t){for(var e=0;e<this.scroller.renders.length;e++)this.scroller.renders[e].shakeCard(t)},e.prototype.test11111111111111111111=function(){for(var t=1;t<=20;t++)slot.SlotMachineView.instance.scroller.lineParser.showLine(t,!0)},a([g(_.default)],e.prototype,"m_banner",void 0),a([g(h.default)],e.prototype,"m_role",void 0),a([g(f.default)],e.prototype,"m_yanhua",void 0),a([g(cc.Node)],e.prototype,"ui_template",void 0),a([g({type:v,tooltip:"\u7279\u6548\u5bb9\u5668"})],e.prototype,"ui_effectsLayer",void 0),a([g({type:cc.Node,displayName:"\u514d\u8d39\u6b21\u6570\u7236\u8282\u70b9"})],e.prototype,"ui_freeGameTimesPanel",void 0),a([m],e)}(d.default);n.default=S,cc._RF.pop()},{"../common/CommonNumAtlas111014101":"CommonNumAtlas111014101","../common/MController111014101":"MController111014101","../common/SubQueueManager111014101":"SubQueueManager111014101","../global/GameEventName111014101":"GameEventName111014101","../global/Global11101401":"Global11101401","../global/Utils111014101":"Utils111014101","../ui/BannerNode111014101":"BannerNode111014101","../ui/Role111014101":"Role111014101","../ui/YanhuaNode111014101":"YanhuaNode111014101","./GameLayer111014101":"GameLayer111014101"}],GameLayer111014101:[function(t,e,n){"use strict";cc._RF.push(e,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../global/Utils111014101"),s=t("./scrollerSkins/JTChildManager111014101"),l=t("./scrollerSkins/JTLayerManager111014101"),c=t("./scrollerSkins/JTLogicFactroy111014101"),u=t("./scrollerSkins/JTScatterTask111014101"),p=cc._decorator,_=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scatterTask=null,e.wildTask=null,e.scroller=null,e}return i(e,t),e.prototype.onLoad=function(){slot.SlotConfigManager.instance.registerJPTypes(3),t.prototype.onLoad.call(this)},e.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView(),slot.SpinManager.customResultCallBack=function(){return slot.SpinManager.instance.customUpdateData.game_10017.data.resultList}},e.prototype.onInitScroller=function(t){var e=this.scroller=t.scroller,n=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);e.setupFactory(new l.default,new s.default,new c.default);var o=e.options(slot.JTEliminatePipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,n.column,t.scrollingComplete);o.childOption(slot.JTCreateScrolling,slot.JTOptionType.OPTION_CREATE),o.childOption(slot.JTBeginScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,t.beginScrolling),o.childOption(slot.JTRunScrolling,slot.JTOptionType.OPTION_RUNNING,t.onSpinPreStop),o.childOption(slot.JTOverScrollEliminate,slot.JTOptionType.OPTION_OVER_RUNNING,t.scrollingProgress),e.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1),slot.JTDefaultItemRender.setPlayCoinIndex(1,7),slot.EliminateEffectUtils.elePlayAni=slot.Handler.create(this,this.elePlayAni,[],!1),slot.EliminateEffectUtils.isLeftRightFallDown=!0,this.scatterTask=new u.default,this.scatterTask.onScatterComplte=this.onScatterComplte.bind(this),this.scatterTask.config(11,2,"10-50-3",0,1e3,"",!0,null,this.onWatchRunning.bind(this),slot.JTScatterTask.ITEM_COUNT_MODE),e.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,this.scatterTask,new slot.JTTaskContainer)},e.prototype.onWatchRunning=function(){},e.prototype.onScatterComplte=function(){},e.prototype.elePlayAni=function(t,e){e.run()},e.prototype._initSlotMachineView=function(){slot.EliminateEffectUtils.setup(1500,0,0,.1,0,0,0,0,.1),this.slotMachine.spaceX=0,this.slotMachine.spaceY=0,this.slotMachine.gridWidth=151.2,this.slotMachine.gridHeight=544/3.5,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation()},e.prototype._rederAfter=function(){for(var t=this.slotMachine.gridHeight/2,e=0;e<5;e++)this.scroller.adjustScrollerPostion(e,cc.v2(0,t));slot.SlotMachineView.instance.scroller.isIgnoreLayoutResetPos=!0,r.default.playRollEndAni(),this.scroller.checkTouchElement=this.checkTouchElement.bind(this)},e.prototype.checkTouchElement=function(t){var e,n,o=this;if(!(slot.FreeGameManager.instance.hasFreeGame||slot.SpinManager.instance.restAutoTimes>0)&&this.scroller._canClickElem){this.scroller._canClickElem=!1,setTimeout(function(){o.scroller._canClickElem=!0},this.scroller.resetTime);for(var i,a=(null===(n=null===(e=slot.GData.getParameter("elementPayConfig"))||void 0===e?void 0:e.show)||void 0===n?void 0:n.maxCol)||this.scroller.config.col,r=t.getLocation(),s=this.scroller.convertToNodeSpaceAR(r),l=-1,c=0;c<this.scroller.config.col;c++)for(var u=this.scroller.items[c],p=0;p<u.renders.length;p++){var _=u.renders[p],h=this.scroller.getRenderPoint(_.index);if(s.x>h.x-.5*_.width&&s.x<h.x+.5*_.width&&s.y>h.y-.5*_.height&&s.y<h.y+.5*_.height){i=_,l=c%a,s.x=h.x,s.y=h.y;break}}if(i&&this.scroller.elementView){var f=i.index<=7,d=this.scroller.expandScrollerInfo;d&&d.length>0&&d.findIndex(function(t){return t.index==l})>-1&&(u=this.scroller.items[l]).renders.indexOf(i),s.x=s.x+.5*this.scroller.config.girdWidth*(f?1:-1),slot.SoundMger.instance.playEffect(slot.SOUND_NAME.CLICK_ELEMENT_VIEW),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_CLICK_ELEMENT_VIEW,i.data),this.scroller.elementView.show(i.data,s,f,this.scroller,i)}}},e.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinBegin(this,this._onSpinBegin),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete)},e.prototype.playRewardsAnimations=function(){},e.prototype._onSpinStart=function(){},e.prototype._onSpinBegin=function(){},e.prototype._onSpinStop=function(){},e.prototype._onSpinComplete=function(){},e.prototype._playContinuousNotWinAnimation=function(t,e){e.run()},e.prototype._playNormalRewardsAnimation=function(t,e){this.playRewardsAnimations(slot.WinAniType.Normal,t,e)},e.prototype._playFullLineAnimation=function(t,e){e.run()},e.prototype._playGreatRewardsAnimation=function(t,e){this.playRewardsAnimations(slot.WinAniType.Great,t,e)},e.prototype._playMiddleRewardsAnimation=function(t,e){this.playRewardsAnimations(slot.WinAniType.Middle,t,e)},e.prototype._playSmallRewardsAnimation=function(t,e){this.playRewardsAnimations(slot.WinAniType.Small,t,e)},e.prototype._onSpinSlotRender=function(){},e.prototype.addEventListener=function(){t.prototype.addEventListener.call(this)},e.prototype.removeEventListener=function(){t.prototype.removeEventListener.call(this)},e.prototype.onInitFreeGame=function(t,e){console.log("oniniffreegame",t),e&&e.runWith(!0)},e.prototype.onFreeGameTriggered=function(t,e){console.log("onFreeGameTriggered",t),e.run()},e.prototype.onFreeGameOver=function(t,e){console.log("onFreeGameOver",t),e.run()},e.prototype.onFreeGameTriggerAgain=function(t,e){console.log("onFreeGameTriggerAgain",t),e.run()},e.prototype.onFreeGameTimesUpdated=function(){},e.prototype.onCloseLoadingViemListen=function(t){t?(slot.SoundMger.instance.stopMusic(slot.SOUND_NAME.FreeGame_Back_Music),slot.SoundMger.instance.playMusic(slot.SOUND_NAME.FreeGame_Back_Music)):(slot.SoundMger.instance.stopMusic(slot.SOUND_NAME.Game_Back_Music),slot.SoundMger.instance.playMusic(slot.SOUND_NAME.Game_Back_Music)),slot.GameControlBase.instance.node.zIndex=199},a([_],e)}(slot.AbstractMainView));n.default=h,cc._RF.pop()},{"../global/Utils111014101":"Utils111014101","./scrollerSkins/JTChildManager111014101":"JTChildManager111014101","./scrollerSkins/JTLayerManager111014101":"JTLayerManager111014101","./scrollerSkins/JTLogicFactroy111014101":"JTLogicFactroy111014101","./scrollerSkins/JTScatterTask111014101":"JTScatterTask111014101"}],Global11101401:[function(t,e,n){"use strict";cc._RF.push(e,"7f702Uta0tFLZdljtkBndbO","Global11101401"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.ui_template=null,this.scatterBackGround=null,this.scatterBackAniNode=null,this.IEliminateResultIndex=0,this.isRollrunning=!0,this.isFirstToApp=!0,this.isFreeGame=!1,this.freeGameTimes=0,this.freeGameTriggerAgainTime=.3}return t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t._instance=null,t}();n.default=o,cc._RF.pop()},{}],JTChildManager111014101:[function(t,e,n){"use strict";cc._RF.push(e,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=t("../SpinSlotViewExtend111014101"),r=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,a.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},e.prototype.changedLine=function(e,n){t.prototype.changedLine.call(this,e,n)},e}(slot.JTChildFactory);n.default=r,cc._RF.pop()},{"../SpinSlotViewExtend111014101":"SpinSlotViewExtend111014101"}],JTCollectTask11101401:[function(t,e,n){"use strict";cc._RF.push(e,"89fc6Yt+aVCNZjcAUROQRyz","JTCollectTask11101401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../global/GameEventName111014101"),s=cc._decorator,l=s.ccclass,c=(s.property,function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.runningTask=function(){var t=this;this.getLineParser().isInitiative?game.EventManager.getInstance().raiseEvent(r.EventName.GAME_JTCONVERT_PLAYLINES_BEFOR,slot.Handler.create(this,function(){t.complete()})):this.complete()},a([l],e)}(slot.JTParseTask));n.default=c,cc._RF.pop()},{"../../global/GameEventName111014101":"GameEventName111014101"}],JTLayerManager111014101:[function(t,e,n){"use strict";cc._RF.push(e,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../global/Global11101401"),r=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.initialize=function(t){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,t),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,t);var n=this.addChildNode(e.FRAME_IMAGE_CONTAINER,t),o=cc.instantiate(a.default.getInstance().ui_template.getChildByName("roller").getChildByName("scatterBackAni"));n.addChild(o),o.active=!1,a.default.getInstance().scatterBackAniNode=o,this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,t);var i=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,t);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,i);var r=this.addChildNode(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,t),s=cc.instantiate(a.default.getInstance().ui_template.getChildByName("roller").getChildByName("scatterBackGround"));r.addChild(s),s.active=!1,a.default.getInstance().scatterBackGround=s,this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,t),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,t);var l=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,t);this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,t),this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,t),this.addChildNode(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,t),this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,t),i.launch(t),l.setup(t.config.getWidth(),t.config.getHeight(),160)},e.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,slot.JTGComponent),this.registerClass(e.FRAME_IMAGE_CONTAINER,slot.JTGComponent),this},e.FRAME_IMAGE_CONTAINER=998,e}(slot.JTLayerFactory);n.default=r,cc._RF.pop()},{"../../global/Global11101401":"Global11101401"}],JTLogicFactroy111014101:[function(t,e,n){"use strict";cc._RF.push(e,"75e2fG+0FNOLKQY2BuBfFw3","JTLogicFactroy111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./JTCollectTask11101401"),s=cc._decorator,l=s.ccclass,c=(s.property,function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.adjustFlowOptions=function(){this.childOption(r.default,slot.JTTaskPriority.JTCONVERT_PLAYLINES-1)},a([l],e)}(slot.JTLogicFactroy));n.default=c,cc._RF.pop()},{"./JTCollectTask11101401":"JTCollectTask11101401"}],JTScatterTask111014101:[function(t,e,n){"use strict";cc._RF.push(e,"a73aa8tnuVK2IoOKcN56URJ","JTScatterTask111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreIdx=[[0],[0],[0],[0],[0]],e}return i(e,t),e.prototype.getIgnoreIndexs=function(t){return this.ignoreIdx[t]},a([s],e)}(slot.JTScatterTask));n.default=l,cc._RF.pop()},{}],LanguageInfo111014101:[function(t,e,n){"use strict";cc._RF.push(e,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,r.menu),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},a([s,l("111014101/LanguageInfo111014101")],e)}(slot.LanguageInfoBase);n.default=c,cc._RF.pop()},{}],MController111014101:[function(t,e,n){"use strict";cc._RF.push(e,"ba302eHv2pN16NCLh/XpUYq","MController111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,r.executeInEditMode),c=r.menu,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),a([s,l,c("111014101/MController111014101")],e)}(game.MController);n.default=u,cc._RF.pop()},{}],Main111014101:[function(t,e,n){"use strict";cc._RF.push(e,"57d00zdnbpIl73C/PZZzTrK","Main111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../common/WinAnimanager111014101"),s=t("../global/GameEventName111014101"),l=cc._decorator,c=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),game.BaseUIConf.getInstance().mergeUIConf(s.UICF);var e=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(e)},e.prototype.getWinAniManagerClass=function(){return r.default},a([c],e)}(slot.MainView));n.default=u,cc._RF.pop()},{"../common/WinAnimanager111014101":"WinAnimanager111014101","../global/GameEventName111014101":"GameEventName111014101"}],MultiPSRandomRefreshTool111014101:[function(t,e,n){"use strict";cc._RF.push(e,"b4ab6MwQ2lPgY5Ras4isv84","MultiPSRandomRefreshTool111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,r.menu),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),a([s,l("111014101/MultiPSRandomRefreshTool111014101")],e)}(slot.MultiPSRandomRefreshTool);n.default=c,cc._RF.pop()},{}],NodeUiConfig111014101:[function(t,e,n){"use strict";cc._RF.push(e,"3dc834kunRNc5rvbBdTbarx","NodeUiConfig111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,r.menu),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),a([s,l("111014101/NodeUiConfig111014101")],e)}(game.NodeUiConfig);n.default=c,cc._RF.pop()},{}],Role111014101:[function(t,e,n){"use strict";cc._RF.push(e,"38f5cpP3FJKu5Fra4HXBZd5","Role111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.RoleAniType=void 0;var r,s=t("../global/GameEventName111014101"),l=t("../global/Global11101401"),c=t("../global/Utils111014101"),u=cc._decorator,p=u.ccclass,_=u.property;(function(t){t._fadein="_fadein",t._fadeout="_fadeout",t.bounce_lvl1="bounce_lvl1",t.bounce_lvl2="bounce_lvl2",t.bounce_lvl3="bounce_lvl3",t.collect_lvl1_1="collect_lvl1_1",t.collect_lvl1_2="collect_lvl1_2",t.collect_lvl2_1="collect_lvl2_1",t.collect_lvl2_2="collect_lvl2_2",t.collect_lvl3_1="collect_lvl3_1",t.collect_lvl3_2="collect_lvl3_2",t.exit_lvl2_to_lvl1="exit_lvl2_to_lvl1",t.exit_lvl3_explode="exit_lvl3_explode",t.feat_lvl1="feat_lvl1",t.feat_lvl2="feat_lvl2",t.feat_lvl3="feat_lvl3",t.idle_lvl1="idle_lvl1",t.idle_lvl2="idle_lvl2",t.idle_lvl3="idle_lvl3",t.levelup_lvl1_to_lvl2="levelup_lvl1_to_lvl2",t.levelup_lvl2_to_lvl3="levelup_lvl2_to_lvl3",t.spawn="spawn",t.freeover="freeover"})(r=n.RoleAniType||(n.RoleAniType={})),cc.Label.prototype._onBMFontTextureLoaded=function(){this._frame._texture=this.font.spriteFrame._texture,this.markForRender(!0),this._updateMaterial(),this._assembler&&this._assembler.updateRenderData(this),this.setVertsDirty()};var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_nodeParents=[],e.ui_anis=[],e.ui_aniNodes=[],e.ui_roleMultiplePanel=[],e.ui_multipleMovePanel=null,e.m_currLv=1,e.m_lastLv=1,e.m_resultRate=0,e.m_isShowBeishu=!1,e.currAniType=r._fadeout,e}return i(e,t),e.prototype.getCurrentLv=function(t){return t<=10?1:t>10&&t<=30?2:3},e.prototype.onLoad=function(){this.ui_aniNodes[0].active=!0,this.ui_aniNodes[1].active=!1,this.node.parent=this.ui_nodeParents[0],this._playIdle(this.ui_anis[0],1),this.ui_roleMultiplePanel.forEach(function(t){t.active=!1}),game.EventManager.getInstance().addEventListener(s.EventName.GAME_SHOW_JIN_KUANG,this.onEventShowBeishuAni,this)},e.prototype.onEventShowBeishuAni=function(){var t=this;this.m_isShowBeishu||l.default.getInstance().isFreeGame||(this.m_isShowBeishu=!0,this.currAniType=r.idle_lvl1,c.default.setSpineAnimations(this.ui_anis[0],["_fadein",""],!1,slot.Handler.create(this,function(){c.default.setSpineAnimations(t.ui_anis[0],["feat_lvl1",""],!1,slot.Handler.create(t,function(){t.currAniType=r._fadeout,t._playIdle(t.ui_anis[0],1)}))})))},e.prototype.setConnStatus=function(t,e){this.m_resultRate=t,this.ui_aniNodes[0].active=0==e,this.ui_aniNodes[1].active=1==e||2==e;var n=this.ui_roleMultiplePanel[0==e?0:1];if(n.active=t>=2,n.opacity=150,n.getChildByName("rate").getComponent(cc.Label).string="X"+this.m_resultRate,this.m_currLv=this.getCurrentLv(t),0==e){if(t<2)return;this.currAniType=r.idle_lvl1,this._playIdle(this.ui_anis[0],this.m_currLv)}else this.currAniType=r.idle_lvl1,2==e?this._playIdle(this.ui_anis[0],this.m_currLv):this._playIdle(this.ui_anis[0],1);2==e&&(this.currAniType=r.freeover)},e.prototype.onSpinBegin=function(){var t=this;this.m_isShowBeishu=!1,l.default.getInstance().isFreeGame?(this.ui_roleMultiplePanel.forEach(function(t){t.opacity=150}),c.default.setSpineAnimations(this.ui_anis[1],["feat_lvl"+this.m_currLv,""],!1,slot.Handler.create(this,function(){t._playIdle(t.ui_anis[1],t.m_currLv)}))):(this.m_resultRate=0,this.m_currLv=1,this.m_lastLv=1,this.ui_roleMultiplePanel.forEach(function(t){t.active=!1}),this.ui_aniNodes[0].active=!0,this.ui_aniNodes[1].active=!1,this.currAniType==r.freeover?c.default.setSpineAnimations(this.ui_anis[0],["spawn",""],!1,slot.Handler.create(this,function(){t.currAniType=r._fadeout,t._playIdle(t.ui_anis[0],1)})):this.currAniType!=r._fadeout&&(this.currAniType=r._fadeout,this._playIdle(this.ui_anis[0],1))),this.node.opacity=255,this.node.parent=this.ui_nodeParents[0]},e.prototype.setFreeGameStatus=function(t){this.node.opacity=255,this.node.parent=this.ui_nodeParents[0],this.m_resultRate=0,this.ui_aniNodes[0].active=!1,this.ui_aniNodes[1].active=!0,t?(this.m_currLv=1,this.m_lastLv=1,this.ui_roleMultiplePanel.forEach(function(t){t.active=!1}),this._playIdle(this.ui_anis[1],1)):(this.ui_roleMultiplePanel.forEach(function(t){t.opacity=150}),this._playIdle(this.ui_anis[1],this.m_currLv),this.currAniType=r.freeover)},e.prototype.addMultiple=function(t){var e=this,n=c.default.getSpecialElemGrid();if(0!=n.length){for(var o=this.ui_roleMultiplePanel[l.default.getInstance().isFreeGame?1:0],i=slot.UIUtil.convetOtherNodeSpaceAR(o,this.ui_multipleMovePanel),a=this.ui_anis[l.default.getInstance().isFreeGame?1:0],s=this,u=0;u<n.length;u++)slot.Handler.create(this,function(l){e.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Multiple_Move",!1,!1,null,function(){slot.SoundMger.instance.playEffect("Multiple_Collect")});var u=n[l].getCurrRate(),p=cc.instantiate(n[l].getRateNode());p.active=!0,p.scale=.7,s.ui_multipleMovePanel.addChild(p),p.setPosition(slot.UIUtil.convetOtherNodeSpaceAR(n[l].ui_rate,s.ui_multipleMovePanel)),p.getChildByName("guang").active=!0,cc.tween(p).to(.5,{scale:1.5,position:i}).call(function(){s.m_resultRate+=u,o.active=!0,o.getChildByName("rate").getComponent(cc.Label).string="X"+e.m_resultRate,o.getChildByName("ui_rate_bg").active=!0;var t=o.getChildByName("wild_d");if(t.active=!0,c.default.setSpineAnimations(t.getComponent(sp.Skeleton),["wild_d",""],!1,slot.Handler.create(e,function(){t.active=!1})),e.m_currLv=e.getCurrentLv(e.m_resultRate),e.m_currLv>e.m_lastLv){e.m_lastLv=e.m_currLv,e.currAniType=r.idle_lvl1;var n=2==e.m_currLv?"levelup_lvl1_to_lvl2":"levelup_lvl2_to_lvl3";c.default.setSpineAnimations(a,[n,""],!1,slot.Handler.create(e,function(){e._playIdle(a,e.m_currLv)}))}else e.currAniType==r._fadeout&&(e.currAniType=r._fadein,e._playIdle(a,e.m_currLv))}).to(.2,{opacity:0}).call(function(){l==n.length-1&&t&&t.run(),p.destroy()}).start()},.7*l)}).runWith(u);this.scheduleOnce(function(){e.node.parent=e.ui_nodeParents[1],e.ui_roleMultiplePanel.forEach(function(t){t.opacity=255})},.3)}else t&&t.run()},e.prototype.collect=function(t,e){var n=this;if(0!=this.m_resultRate){this.ui_roleMultiplePanel.forEach(function(t){t.opacity=255});var o=this.ui_anis[l.default.getInstance().isFreeGame?1:0],i=slot.Handler.create(this,function(){n.node.opacity=150,n.node.parent=n.ui_nodeParents[0];var t=n.ui_multipleMovePanel.getChildByName("wild_e");t.active=!0,c.default.setSpineAnimations(t.getComponent(sp.Skeleton),["wild_e",""],!1,slot.Handler.create(n,function(){t.active=!1}));var o=n.ui_multipleMovePanel.getChildByName("wild_f");o.active=!0,c.default.setSpineAnimations(o.getComponent(sp.Skeleton),["wild_f",""],!1,slot.Handler.create(n,function(){o.active=!1}));var i=n.ui_roleMultiplePanel[l.default.getInstance().isFreeGame?1:0],a=cc.instantiate(i);i.active=!0,a.angle=0,a.scale=.7,n.ui_multipleMovePanel.addChild(a);var r=slot.UIUtil.convetOtherNodeSpaceAR(i,n.ui_multipleMovePanel);a.setPosition(r),cc.tween(a).to(.5,{position:cc.v3(0,0)}).call(function(){slot.SoundMger.instance.playEffect("Multiple_Fall_0"+(n.m_resultRate<5?"1":"2")),e.run()}).to(.2,{opacity:0,scale:1}).call(function(){a.destroy()}).start()});slot.SoundMger.instance.playEffect("Throw",!1,!1,null,function(){slot.SoundMger.instance.playEffect("Throw_On")}),l.default.getInstance().isFreeGame?slot.SoundMger.instance.playEffect("FreeGame_Beat_Voice"):slot.SoundMger.instance.playEffect("Normal_Beat_Voice"),c.default.setSpineAnimations(o,["collect_lvl"+this.m_currLv+"_"+game.ComUtils.getIntRandom(1,2),""],!1,slot.Handler.create(this,function(){n._playIdle(o,n.m_currLv)})),this.scheduleOnce(function(){i.run()},.3)}else e.run()},e.prototype._playIdle=function(t,e){t.clearTracks(),t.setToSetupPose(),t.setAnimation(0,"_fadeout",!1),t.setAnimation(1,"idle_lvl"+e,!0)},a([_(cc.Node)],e.prototype,"ui_nodeParents",void 0),a([_(sp.Skeleton)],e.prototype,"ui_anis",void 0),a([_(cc.Node)],e.prototype,"ui_aniNodes",void 0),a([_(cc.Node)],e.prototype,"ui_roleMultiplePanel",void 0),a([_(cc.Node)],e.prototype,"ui_multipleMovePanel",void 0),a([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../global/GameEventName111014101":"GameEventName111014101","../global/Global11101401":"Global11101401","../global/Utils111014101":"Utils111014101"}],SpinSlotViewExtend111014101:[function(t,e,n){"use strict";cc._RF.push(e,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=t("../global/GameEventName111014101"),r=t("../global/Global11101401"),s=t("../global/Utils111014101"),l=function(t){function e(){var e=t.call(this)||this;return e.ui_scatterBg=null,e.ui_frame_bottom=null,e.ui_frame_top=null,e.ui_rate=null,e.m_rate=0,e.m_collect=!1,e.isBlur=!0,e.isFade=!0,e.isFadeMask=!1,e.skinLoader.skeletonNode.scale=1,e}return i(e,t),e.prototype.onDataOrStageChange=function(){var t=slot.GData.getParameter("spinElementResConfig").spinElementResConfig[this.data];this.showScatterBg(this.isScatter()),this.skinLoader.skeletonNode.scale=t.skeletonScale,this.skinLoader.skeletonNode.x=t.spinOffsetX,this.skinLoader.skeletonNode.y=t.spinOffsetY,this.m_rate=0,this.m_collect=!1,this.showFrame(this.data>=12),this.opacity=255},e.prototype.onStopAnimation=function(){},e.prototype.onRollEnd=function(){this.playRollEndAni(),this.data>=12&&game.EventManager.getInstance().raiseEvent(a.EventName.GAME_SHOW_JIN_KUANG)},e.prototype.onNewElemDropEnd=function(){this.playRollEndAni()},e.prototype.playRollEndAni=function(){var t=this,e=this;if(this.isScatter()||this.isWild()){var n=this.isScatter()?"spawn":"collect",o=this.isScatter()?"idle":"collect_idle";this.skinLoader.playTaskCall=null,this.setAnimation(slot.JTGLoaderAssetType.Skeleton,n,!1,function(){t.skinLoader.playTaskCall=null,e.setAnimation(slot.JTGLoaderAssetType.Skeleton,o,!0)})}else this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn",!1);this.showScatterBg(this.isScatter()),this.playFrameAni()},e.prototype.showScatterBg=function(t){if(t){if(this.isScatter()){this.ui_scatterBg||(this.ui_scatterBg=cc.instantiate(r.default.getInstance().ui_template.getChildByName("scatterBg")),this.addEffectNode(this.ui_scatterBg,!1)),this.ui_scatterBg.active=!0;var e=this.ui_scatterBg.getChildByName("scatterBg").getComponent(sp.Skeleton);s.default.setSpineAnimation(e,"sc_a_start",!1,slot.Handler.create(this,function(){s.default.setSpineAnimation(e,"sc_a_loop",!0)}))}}else{if(!this.ui_scatterBg)return;this.ui_scatterBg.active=!1}},e.prototype.playPrizeAni=function(){this.skinLoader.playTaskCall=null,this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win",!1)},e.prototype.eliminate=function(){var t=this;cc.tween(this).to(.2,{scale:.1}).call(function(){t.scale=1,t.opacity=0}).start()},e.prototype.showFrame=function(t){var e,n,o,i,a,s,l,c=this;if(this.ui_frame_bottom||(this.ui_frame_bottom=cc.instantiate(r.default.getInstance().ui_template.getChildByName("ui_frame_no_bottom")),this.addEffectNode(this.ui_frame_bottom,!1),this.ui_frame_bottom.active=!1),this.ui_frame_top||(this.ui_frame_top=cc.instantiate(r.default.getInstance().ui_template.getChildByName("ui_frame_no_top")),this.addEffectNode(this.ui_frame_top,!0),this.ui_frame_top.active=!1),this.ui_rate||(this.ui_rate=cc.instantiate(r.default.getInstance().ui_template.getChildByName("ui_rate")),this.addEffectNode(this.ui_rate,!0)),this.ui_rate.active=!1,!t)return this.ui_frame_bottom.active=!1,void(this.ui_frame_top.active=!1);if(this.ui_frame_bottom.active=!0,this.ui_frame_top.active=!0,this.ui_frame_top.getComponent(cc.Sprite).spriteFrame=slot.SlotGameManager.instance.getCardByName("s_frame_no_bottom"),slot.SpinManager.instance.rollingResult)if((null===(o=null===(n=null===(e=slot.SpinManager.instance.customUpdateData)||void 0===e?void 0:e.game_10017)||void 0===n?void 0:n.data)||void 0===o?void 0:o.resultList)&&(null===(l=null===(s=null===(a=null===(i=slot.SpinManager.instance.customUpdateData)||void 0===i?void 0:i.game_10017)||void 0===a?void 0:a.data)||void 0===s?void 0:s.resultList)||void 0===l?void 0:l.length)>0){var u=slot.SpinManager.instance.customUpdateData.game_10017.data.resultList[r.default.getInstance().IEliminateResultIndex].specialGrid;r.default.getInstance().isFirstToApp&&(r.default.getInstance().IEliminateResultIndex=slot.SpinManager.instance.customUpdateData.game_10017.data.resultList.length-1);for(var p=0;p<u.length;p++){var _=u[p];_.pos==this.index+1&&_.elem==this.data&&(this.m_rate=_.rate,_.rate>1&&(this.ui_rate.active=!0,this.ui_rate.y=-65,this.ui_rate.scale=.65,this.ui_rate.getChildByName("rate").getComponent(cc.Label).string="X"+_.rate,this.ui_frame_top.getComponent(cc.Sprite).spriteFrame=slot.SlotGameManager.instance.getCardByName("s_frame")))}}else setTimeout(function(){for(var t=[{pos:5,rate:2},{pos:11,rate:10},{pos:13,rate:2}],e=0;e<t.length;e++){var n=t[e];n.pos==c.index+1&&(c.m_rate=n.rate,n.rate>1&&(c.ui_rate.active=!0,c.ui_rate.y=-65,c.ui_rate.scale=.65,c.ui_rate.getChildByName("rate").getComponent(cc.Label).string="X"+n.rate,c.ui_frame_top.getComponent(cc.Sprite).spriteFrame=slot.SlotGameManager.instance.getCardByName("s_frame"),c.ui_frame_top.getChildByName("wild").active=!1))}})},e.prototype.playFrameAni=function(){if(!(this.data<12)&&this.ui_frame_top&&this.ui_frame_top.active){var t=this.ui_frame_top.getChildByName("wild").getComponent(sp.Skeleton),e=this.m_rate>1?"wild_a2":"wild_a";t.node.active=!0,s.default.setSpineAnimation(t,e,!1,slot.Handler.create(this,function(){t.node.active=!1}));var n=this.ui_rate.getChildByName("ui_rate_bg");this.m_rate>1&&this.ui_rate.active&&(cc.tween(this.ui_rate).to(.2,{y:-30,scale:.75}).delay(.3).to(.2,{y:-65,scale:.65}).start(),n.opacity=1,cc.tween(n).to(.2,{opacity:255}).delay(.3).to(.2,{opacity:0}).start(),s.default.playAnimation(n.getComponent(cc.Animation),!0))}},e.prototype.showFrameLightAni=function(){if(!(this.data<12)&&this.ui_frame_top&&this.ui_frame_top.active){var t=this.ui_frame_top.getChildByName("wild").getComponent(sp.Skeleton),e=this.m_rate>1?"wild_a2":"wild_a";t.node.active=!0,s.default.setSpineAnimation(t,e,!1,slot.Handler.create(this,function(){t.node.active=!1}))}},e.prototype.isResetBeforeScrolling=function(){return!0},e.prototype.getElementType=function(){return slot.SlotConfigManager.instance.DataElement.getData(this.data)?this.isScatter()?-100:-this.index:(console.error("get element error,please check element:"+this.data+" is in in element table"),0)},e.prototype.onScattterTaskCall=function(){var e=this;if(t.prototype.onScattterTaskCall.call(this),0!=this.index&&4!=this.index&&8!=this.index&&12!=this.index&&16!=this.index){var n=this;this.skinLoader.playTaskCall=null,this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"fastspin_start",!1,function(){n.skinLoader.playTaskCall=null,e.setAnimation(slot.JTGLoaderAssetType.Skeleton,"fastspin_idle",!0)})}},e.prototype.playScattaIdleAni=function(){this.isScatter()&&(this.skinLoader.playTaskCall=null,this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle",!0))},e.prototype.onScatterPrizeAni=function(){var t=this;if(this.isScatter()){var e=this;this.skinLoader.playTaskCall=null,this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win",!1,function(){e.skinLoader.playTaskCall=null,t.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win_idle",!0)}),this.zIndex=100}},e.prototype.cheangeWild=function(){var t=this,e=this.m_rate,n=this;cc.tween(this).to(.15,{scale:.1}).call(function(){t.data=10,0!=e&&(t.ui_rate.active=!0,t.m_collect=!0,t.m_rate=e,cc.tween(t.ui_rate).to(.05,{scale:.75}).delay(.05).to(.05,{scale:.65}).start(),t.skinLoader.playTaskCall=null,t.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn",!1,function(){n.skinLoader.playTaskCall=null,t.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle",!0)}))}).to(.1,{scale:1}).delay(.15).call(function(){t.skinLoader.playTaskCall=null;var n=0==e?"collect_idle":"idle";t.setAnimation(slot.JTGLoaderAssetType.Skeleton,n,!0)}).start()},e.prototype.getCurrRate=function(){return this.m_rate},e.prototype.getRateNode=function(){var t=this;this.ui_rate.active=!1;var e=this;return this.skinLoader.playTaskCall=null,this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"collect",!1,function(){e.skinLoader.playTaskCall=null,t.setAnimation(slot.JTGLoaderAssetType.Skeleton,"collect_idle",!0)}),this.m_collect=!1,this.m_rate=1,this.ui_rate},e.prototype.shakeCard=function(t){if(void 0===t&&(t=!0),cc.Tween.stopAllByTarget(this.skinLoader),this.skinLoader.x=0,this.skinLoader.y=0,t){var e=game.ComUtils.getIntRandom(1,3);1==e?cc.tween(this.skinLoader).to(.05,{x:1}).to(.05,{x:0}).to(.05,{y:1}).to(.05,{y:0}).to(.05,{x:-1}).to(.05,{x:0}).to(.05,{y:1}).to(.05,{y:0}).union().repeatForever().start():2==e?cc.tween(this.skinLoader).to(.05,{y:1}).to(.05,{y:0}).to(.05,{y:-1}).to(.05,{y:0}).to(.05,{x:1}).to(.05,{x:0}).to(.05,{y:1}).to(.05,{y:0}).union().repeatForever().start():3==e&&cc.tween(this.skinLoader).to(.05,{x:-1}).to(.05,{x:0}).to(.05,{y:1}).to(.05,{y:0}).to(.05,{y:-1}).to(.05,{y:0}).to(.05,{x:1}).to(.05,{x:0}).union().repeatForever().start()}},e}(slot.SpinSlotView);n.default=l,cc._RF.pop()},{"../global/GameEventName111014101":"GameEventName111014101","../global/Global11101401":"Global11101401","../global/Utils111014101":"Utils111014101"}],SpineAnilook111014101:[function(t,e,n){"use strict";cc._RF.push(e,"60debGl94ZGXYwNBCChgdu+","SpineAnilook111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=r.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nameArr=[],e}return i(e,t),Object.defineProperty(e.prototype,"names",{get:function(){return this.nameArr},set:function(t){this.nameArr=t,this.playBlendAni()},enumerable:!1,configurable:!0}),e.prototype.playBlendAni=function(){var t=this.node.getComponent(sp.Skeleton);this.nameArr.forEach(function(e,n){return t.clearTrack(n)}),t.setToSetupPose(),this.nameArr.forEach(function(e,n){e&&t.setAnimation(n,e,!0)})},a([l({type:[cc.String],visible:!1})],e.prototype,"nameArr",void 0),a([l([cc.String])],e.prototype,"names",null),a([s,c("111014101/SpineAnilook111014101")],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],SubQueueManager111014101:[function(t,e,n){"use strict";cc._RF.push(e,"a168eh2Ou1AwYIyjxtP8x7y","SubQueueManager111014101");var o=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,r=(i.property,function(){function t(){this._queue=[],this.continueHandler=slot.Handler.create(this,this.execute,null,!1)}var e;return e=t,t.getInstance=function(){return this._ins||(this._ins=new e),this._ins},t.prototype.reset=function(){this._queue=[]},t.prototype.pushToQueue=function(t){this._queue.push(t)},t.prototype.execute=function(){return!(this._queue.length<=0||(this._queue.shift().runWith(this.continueHandler),0))},t._ins=null,e=o([a],t)}());n.default=r,cc._RF.pop()},{}],Utils111014101:[function(t,e,n){"use strict";cc._RF.push(e,"a602a4UMiJMYLIUfKS+1XVQ","Utils111014101"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.clone=function(t){if(null===t||"object"!=typeof t)return t;var e={};for(var n in t.constructor===Array&&(e=[]),t)t.hasOwnProperty(n)&&(e[n]=this.clone(t[n]));return e},t.fisherYatesShuffle=function(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),o=t[e];t[e]=t[n],t[n]=o}return t},t.setSpineAnimation=function(t,e,n,o){t.setAnimation(0,e,n)&&!n&&t.setCompleteListener(function(){t.setCompleteListener(null),o&&o.run()})},t.setSpineAnimations=function(t,e,n,o){t.clearTracks(),t.setToSetupPose(),e.forEach(function(e,o){e&&t.setAnimation(o,e,n)}),n||t.setCompleteListener(function(){t.setCompleteListener(null),o&&o.run()})},t.playAnimation=function(t,e,n){e||t.on("finished",function(){n&&n()},this),t.play().wrapMode=e?cc.WrapMode.Loop:cc.WrapMode.Normal},t.playAnimation2=function(t,e,n,o){n||t.on("finished",function(){o&&o()},this),t.play(e).wrapMode=n?cc.WrapMode.Loop:cc.WrapMode.Normal},t.getJinFrameArr=function(){for(var t=[],e=slot.SlotMachineView._instance.scroller.renders.length,n=0;n<e;n++){var o=slot.SlotMachineView.instance.scroller.renders[n];o.active&&o.data>12&&-1==this.excludeCardPos.indexOf(o.index)&&t.push(o)}return t},t.getScatterArr=function(){for(var t=[],e=slot.SlotMachineView._instance.scroller.renders.length,n=0;n<e;n++){var o=slot.SlotMachineView.instance.scroller.renders[n];o.active&&o.isScatter()&&-1==this.excludeCardPos.indexOf(o.index)&&t.push(o)}return t},t.playScattaIdleAni=function(){for(var t=slot.SlotMachineView._instance.scroller.renders.length,e=0;e<t;e++)slot.SlotMachineView.instance.scroller.renders[e].playScattaIdleAni()},t.onScattterTaskCall=function(){for(var t=slot.SlotMachineView._instance.scroller.renders.length,e=0;e<t;e++){var n=slot.SlotMachineView.instance.scroller.renders[e];n.isScatter()&&n.onScattterTaskCall()}},t.onScatterPrizeAni=function(){for(var t=this.getScatterArr(),e=0;e<t.length;e++)t[e].onScatterPrizeAni()},t.showFrame=function(){for(var t=slot.SlotMachineView._instance.scroller.renders.length,e=0;e<t;e++){var n=slot.SlotMachineView.instance.scroller.renders[e];n.showFrame(n.data>=12)}},t.getSpecialElemGrid=function(){for(var t=[],e=slot.SlotMachineView._instance.scroller.renders.length,n=0;n<e;n++){var o=slot.SlotMachineView.instance.scroller.renders[n];o.m_collect&&t.push(o)}return t},t.getChangeSpecialElem=function(t){for(var e=[],n=0;n<t.length;n++){var o=slot.SlotMachineView.instance.scroller.getRenderByPos(t[n].pos-1);e.push(o)}return e},t.playRollEndAni=function(){for(var t=slot.SlotMachineView._instance.scroller.renders.length,e=0;e<t;e++){var n=slot.SlotMachineView.instance.scroller.renders[e];n.active&&n.playRollEndAni()}},t.excludeCardPos=[0,4,8,12,16],t}();n.default=o,cc._RF.pop()},{}],WinAnimanager111014101:[function(t,e,n){"use strict";cc._RF.push(e,"949eeVIdIVG9pROoHHpu54d","WinAnimanager111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res_tagSpriteAtlas=null,e.ui_tagSprite=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this);var e=this;game.ResLoader.getInstance().loadRes("textures/ui/beijingrenwu",cc.SpriteAtlas,function(t,n){t||(e.res_tagSpriteAtlas=n)},slot.GData.bundleName);var n=new cc.Node;e.ui_tagSprite=n.addComponent(cc.Sprite),e.node.addChild(n),n.setSiblingIndex(4)},e.prototype.playWinTextFadeIn=function(t,e){var n=1.3;e==slot.WinAniType.Small&&(n=0);var o=1;switch(e){case slot.WinAniType.Small:o=1.63,this.ui_tagSprite.node.y=-35;break;case slot.WinAniType.Middle:o=1.77;break;case slot.WinAniType.Great:o=2.15}this.ui_tagSprite.node.scale=o;var i="bw_vfx_k_normal_0"+(e-1);return this.res_tagSpriteAtlas&&this.ui_tagSprite&&(this.ui_tagSprite.spriteFrame=this.res_tagSpriteAtlas.getSpriteFrame(i)),cc.tween(t).set({scale:n}).delay(.1).to(.1,{scale:1}).start()},e.prototype.onStageChange=function(t){console.log("winType",t),slot.WinAniType.Great},e.prototype.onCoinIncreaseEnd=function(){cc.tween(this.winCoinLabel.node).delay(.15).by(.15,{scale:.3}).by(.15,{scale:-.3}).start()},e.prototype.playFadeOut=function(t){t.run()},a([s],e)}(slot.WinAniManager));n.default=l,cc._RF.pop()},{}],YanhuaNode111014101:[function(t,e,n){"use strict";cc._RF.push(e,"21b35NHp3tDeZDPmAeZweoe","YanhuaNode111014101");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../global/Global11101401"),s=t("../global/Utils111014101"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_nodes=[],e}return i(e,t),e.prototype.onLoad=function(){this.init()},e.prototype.init=function(){this.ui_nodes.forEach(function(t){t.active=!1})},e.prototype.play=function(t){if(r.default.getInstance().isFreeGame){this.ui_nodes[t].active=!0;var e=this;0==t?slot.SoundMger.instance.playEffect("Fireworks_0"+game.ComUtils.getIntRandom(1,3)):1==t?slot.SoundMger.instance.playEffect("Fireworks_04"):slot.SoundMger.instance.playEffect("Fireworks_0"+game.ComUtils.getIntRandom(5,7));for(var n=0;n<this.ui_nodes[t].children.length;n++)(function(n){var o=e.ui_nodes[t].children[n];o.setPosition(new cc.Vec2(game.ComUtils.getIntRandom(0,e.ui_nodes[t].width),game.ComUtils.getIntRandom(0,e.ui_nodes[t].height))),o.scale=game.ComUtils.getIntRandom(4,7)/10;var i=e.ui_nodes[t].children[n].getComponent(sp.Skeleton);i&&s.default.setSpineAnimation(i,"bns_c",!1,slot.Handler.create(e,function(){0==n&&(e.ui_nodes[t].active=!1)}))})(n)}},a([u(cc.Node)],e.prototype,"ui_nodes",void 0),a([c],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../global/Global11101401":"Global11101401","../global/Utils111014101":"Utils111014101"}]},{},["Banner111014101","CommonNumAtlas111014101","LanguageInfo111014101","MController111014101","MultiPSRandomRefreshTool111014101","NodeUiConfig111014101","SpineAnilook111014101","SubQueueManager111014101","WinAnimanager111014101","FreeGameAgain111014101","FreeGameResult111014101","FreeGameStart111014101","GameBg111014101","GameEventName111014101","Global11101401","Utils111014101","Main111014101","GameGUI111014101","GameLayer111014101","SpinSlotViewExtend111014101","JTChildManager111014101","JTCollectTask11101401","JTLayerManager111014101","JTLogicFactroy111014101","JTScatterTask111014101","BannerNode111014101","Role111014101","YanhuaNode111014101"]);